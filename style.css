* {
    box-sizing: border-box;
    margin: 0;
    padding: 0;
}

body {
    min-height: 100vh;
    display: flex;
    justify-content: center;
    align-items: flex-start;
    padding: 20px;
    color: #f9f3e6;
    /* 暗色魔法风背景 */
    background: radial-gradient(circle at top, #3b2b40 0, #151019 40%, #060608 100%);
    font-family: "Georgia", "Times New Roman", serif;
}

/* 让整个游戏区域像一本魔法图鉴 */
.game,
#game {
    position: relative;
}

/* ===== 顶部：角色输入区域 ===== */
#role {
    position: fixed;
    top: 16px;
    left: 50%;
    transform: translateX(-50%);
    background: rgba(12, 8, 18, 0.9);
    border: 1px solid rgba(222, 196, 129, 0.7);
    box-shadow: 0 0 18px rgba(0, 0, 0, 0.9);
    padding: 8px 16px;
    border-radius: 999px;
    font-size: 14px;
    z-index: 20;
    display: flex;
    align-items: center;
    gap: 8px;
}

#role input {
    background: #201625;
    border: 1px solid rgba(222, 196, 129, 0.6);
    color: #f9f3e6;
    padding: 4px 8px;
    border-radius: 999px;
    font-size: 13px;
}

#role input::placeholder {
    color: #a8918c;
}

#role button {
    cursor: pointer;
    border-radius: 999px;
    border: 1px solid rgba(222, 196, 129, 0.9);
    background: linear-gradient(135deg, #3c2c20, #7c5a2a);
    color: #f7e9c4;
    font-weight: bold;
    padding: 4px 10px;
    font-size: 13px;
    transition: transform 0.1s ease, box-shadow 0.1s ease, filter 0.1s ease;
}

#role button:hover {
    filter: brightness(1.1);
    transform: translateY(-1px);
    box-shadow: 0 0 8px rgba(222, 196, 129, 0.7);
}

/* ===== 整体布局：左边地图，右边状态 + 商店 + 日志 + hint ===== */
.game {
    margin-top: 60px; /* 避开角色输入条 */
    margin-right: 32px;
}

/* ===== 地图区域（JRPG 俯视 13x13） ===== */
#map.map {
    display: grid;
    grid-template-columns: repeat(13, 48px);
    grid-template-rows: repeat(13, 48px);
    gap: 0;
    background: radial-gradient(circle at center, #221826 0, #0b080f 70%);
    border-radius: 20px;
    padding: 8px;
    border: 2px solid rgba(222, 196, 129, 0.8);
    box-shadow:
            0 0 20px rgba(0, 0, 0, 0.9),
            0 0 40px rgba(222, 196, 129, 0.2);
}

/* 每一个瓦片 */
.tile {
    width: 48px;
    height: 48px;
    background-size: cover;
    background-position: center;
    position: relative;
    transition: transform 0.08s ease-out, box-shadow 0.08s ease-out, filter 0.08s ease-out;
    transform-origin: center center;
}

/* 轻微“凸起”，更像棋盘 / 战棋 */
.tile:hover {
    transform: scale(1.04);
    box-shadow: 0 0 8px rgba(255, 255, 255, 0.18);
    filter: brightness(1.05);
}

/* ===== 不同 tile 类型的一些额外效果（边框/光晕） ===== */

.wall {
    filter: brightness(0.7);
}

.floor {
    filter: brightness(1);
}

/* 主角：柔和金色光晕（艾尔登法环角色光） */
.hero {
    box-shadow: 0 0 12px rgba(255, 223, 140, 0.9);
    border-radius: 8px;
}

/* 敌人：稍带红/紫光 */
.slime-red,
.slime-green,
.bat,
.skeleton,
.wizard {
    border-radius: 4px;
    box-shadow: 0 0 10px rgba(176, 40, 40, 0.7);
}

.slime-green {
    box-shadow: 0 0 10px rgba(87, 214, 71, 0.6);
}

.bat {
    box-shadow: 0 0 10px rgba(116, 60, 163, 0.7);
}

.skeleton {
    box-shadow: 0 0 10px rgba(210, 210, 210, 0.7);
}

.wizard {
    box-shadow: 0 0 14px rgba(123, 102, 255, 0.9);
}
.trial-door {
    box-shadow: 0 0 14px rgba(255, 150, 80, 0.9);
    border-radius: 10px;
}
/* 宝石/道具：蓝/红光 */
.ruby,
.sapphire {
    border-radius: 8px;
    box-shadow: 0 0 12px rgba(255, 65, 65, 0.8);
}
.sapphire {
    box-shadow: 0 0 12px rgba(80, 190, 255, 0.9);
}

/* 楼梯：金色光圈 → 传送感 */
.stair {
    box-shadow: 0 0 12px rgba(242, 211, 123, 0.9);
    border-radius: 10px;
}

/* 商店：绿色魔法光 */
.shop {
    box-shadow: 0 0 14px rgba(72, 255, 174, 0.8);
    border-radius: 10px;
}

/* 装饰物 */
.decor {
    filter: brightness(0.95);
}

/* ===== 右侧：游戏状态、商店、日志、提示 ===== */
#game {
    display: flex;
    flex-direction: column;
    gap: 12px;
    min-width: 420px;
}

/* 标题/角色名，类似魔法章节标题 */
#roleName {
    font-size: 24px;
    letter-spacing: 0.1em;
    text-transform: uppercase;
    text-align: center;
    margin-bottom: 8px;
    text-shadow: 0 0 10px rgba(222, 196, 129, 0.7);
}

/* ===== 状态面板：类似 JRPG 状态栏 + 霍格沃茨卷轴边框 ===== */
#status {
    background: linear-gradient(135deg, rgba(22, 16, 25, 0.95), rgba(40, 28, 35, 0.95));
    border-radius: 16px;
    padding: 10px 12px;
    border: 2px solid rgba(222, 196, 129, 0.8);
    box-shadow: 0 0 16px rgba(0, 0, 0, 0.8);
    font-size: 13px;
    display: flex;
    flex-wrap: wrap;
    gap: 4px 8px;
}

#status .label {
    color: #e8d8b4;
    font-weight: bold;
}

#status .value {
    color: #fdf5da;
    margin-right: 10px;
}

/* ===== 商店 ===== */
#shop {
    margin-top: 4px;
    background: radial-gradient(circle at top, rgba(26, 19, 32, 0.98), rgba(8, 5, 12, 0.98));
    border-radius: 18px;
    padding: 10px 12px 12px;
    border: 2px solid rgba(111, 213, 166, 0.9);
    box-shadow: 0 0 18px rgba(23, 94, 69, 0.9);
    max-width: 440px;
}

#shop h2 {
    font-size: 18px;
    margin-bottom: 6px;
    letter-spacing: 0.08em;
    text-transform: uppercase;
    text-align: center;
    color: #b5fdd7;
}

/* 列表本身 */
.shop-list {
    list-style: none;
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 6px;
    margin-bottom: 8px;
}

/* 每个商品：像艾尔登法环物品条 + JRPG 菜单 */
.shop-item {
    font-size: 13px;
    padding: 6px 8px;
    border-radius: 12px;
    border: 1px solid rgba(173, 246, 203, 0.6);
    background: linear-gradient(135deg, rgba(15, 30, 24, 0.9), rgba(21, 51, 32, 0.9));
    color: #ddffe9;
    cursor: pointer;
    transition: transform 0.12s ease, box-shadow 0.12s ease, border-color 0.12s ease, background 0.12s ease;
    text-align: center;
}

.shop-item:hover {
    transform: translateY(-2px);
    box-shadow: 0 0 14px rgba(150, 252, 201, 0.9);
    border-color: rgba(197, 255, 224, 1);
    background: linear-gradient(135deg, rgba(30, 73, 49, 0.95), rgba(25, 57, 41, 0.95));
}

/* 商品效果说明 */
#itemEffect {
    font-size: 12px;
    text-align: center;
    color: #b1f7cf;
    padding-top: 4px;
    border-top: 1px dashed rgba(163, 241, 205, 0.6);
}

/* ===== 日志区域：战斗记录 / 提示（像系统日志 + 卷轴）===== */
#log {
    margin-top: 8px;
    min-height: 120px;
    max-height: 180px;
    overflow-y: auto;
    background: radial-gradient(circle at top left, rgba(42, 30, 23, 0.96), rgba(15, 10, 8, 0.98));
    border-radius: 16px;
    padding: 8px 10px;
    border: 2px solid rgba(214, 183, 121, 0.8);
    box-shadow: 0 0 16px rgba(0, 0, 0, 0.8);
    font-size: 12px;
}

/* 每条日志 */
#log div {
    margin-bottom: 4px;
    line-height: 1.3;
}

#log div:last-child {
    color: #fff0c4;
    text-shadow: 0 0 6px rgba(255, 238, 188, 0.8);
}

#log img.log-img {
    display: block;
    margin: 4px auto;
    width: 64px;
    height: 64px;
    image-rendering: pixelated;
}

.hint {
    margin-top: 6px;
    font-size: 12px;
    line-height: 1.35;
    background: linear-gradient(135deg, rgba(41, 28, 19, 0.96), rgba(26, 16, 10, 0.98));
    border-radius: 14px;
    padding: 8px 10px;
    border: 1px solid rgba(204, 166, 101, 0.8);
    box-shadow: inset 0 0 10px rgba(0, 0, 0, 0.7);
    color: #f7e0b7;
}
/* ===== Popup modal background ===== */
#afterDoor {
    position: fixed;
    inset: 0; /* top:0; left:0; right:0; bottom:0; */
    background: rgba(0, 0, 0, 0.65);
    display: flex;
    align-items: center;
    justify-content: center;
    z-index: 999; /* put above everything */
    flex-direction: column;
    text-align: center;

    /* initially hidden */
}

#afterDoor.Hidden {
    display: none;
}
/* =========================
   Quest Panel
   ========================== */

.quest-panel {
    margin-top: 6px;
    background: linear-gradient(135deg, rgba(30, 20, 24, 0.96), rgba(14, 9, 13, 0.98));
    border-radius: 14px;
    padding: 8px 10px;
    border: 1px solid rgba(190, 160, 110, 0.9);
    box-shadow: 0 0 12px rgba(0, 0, 0, 0.75);
    font-size: 12px;
    color: #f7e0b7;
}

.quest-title {
    font-weight: bold;
    color: #ffe9bf;
    margin-bottom: 4px;
}

.quest-text {
    color: #fdf5da;
}

/* ===== Dino image ===== */
#afterDoor .dinosaur {
    width: 96px;
    height: 96px;
    margin: -100px auto 8px;
    display: block;
    image-rendering: pixelated;
}

/* ===== Text message ===== */
.dino-text {
    font-size: 15px;
    color: #f7e9c4;
    margin-top: 12px;
    margin-bottom: 8px;
    line-height: 1.35;
}
/* ===== Fight button ===== */
#DinosaurButton {
    cursor: pointer;
    border-radius: 999px;
    border: 1px solid rgba(222,196,129,0.9);
    background: linear-gradient(135deg, #3c2c20, #7c5a2a);
    color: #f7e9c4;
    padding: 6px 18px;
    font-size: 14px;
    font-weight: bold;
    margin-top: 10px;
    transition: transform 0.1s ease, box-shadow 0.12s ease, filter 0.12s ease;
}

#DinosaurButton:hover {
    filter: brightness(1.1);
    transform: translateY(-1px);
    box-shadow: 0 0 12px rgba(222,196,129,0.7);
}
